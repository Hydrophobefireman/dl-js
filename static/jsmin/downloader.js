var next_req=!0;document.getElementById("name-set").onclick=(e=>{e.target.innerHTML="Name Changed",document.getElementById("download-link").download=document.getElementById("filename").value}),document.getElementById("filename").onclick=(()=>{document.getElementById("name-set").innerHTML="change Name"}),fetch("/proxy/f/?u="+encodeURIComponent(window.dlurl)+"&referer="+encodeURIComponent(window.dlref),{credentials:"include",referrer:window.location.href,referrerPolicy:"no-referrer-when-downgrade",body:null,method:"GET",mode:"cors"}).then(e=>e.text()).then(e=>{window.dl_start=performance.now(),setTimeout(socket,1200)});var analyse_perf=function(e,n){var t=document.getElementById("analysed-data"),o=document.getElementById("dl_time"),d=document.getElementById("dl_speed"),l=(n/1e3).toFixed(2),r=(e/1048576/l).toFixed(2);o.innerHTML=l,d.innerHTML=r,t.style.display="block"};function socket(){var e=!0,n=("https:"===window.location.protocol?"wss://":"ws://")+window.location.host+"/session/sockets/",t=new WebSocket(n);t.onopen=function(){t.send("init-message")},t.onmessage=function(n){var o=JSON.parse(n.data);o.hasOwnProperty("error")&&(e=!1),o.hasOwnProperty("file")&&(document.getElementById("download-link").href=o.link,document.getElementById("dl-button").style.display="block",e=!1,document.getElementById("till-done").innerHTML="100",document.getElementById("progressbtn").style.width="100%",window.dl_end=performance.now()-window.dl_start,analyse_perf(o.total,window.dl_end),t.close());const d=parseInt(o.done),l=parseInt(o.total);var r=(d/l*100).toFixed(2);const s=r<=100?r:100;document.getElementById("till-done").innerHTML=s,document.getElementById("total-size-int").innerHTML=(l/1048576).toFixed(2),document.getElementById("progressbtn").style.display="block",document.getElementById("progressbtn").style.width=s+"%",e&&setTimeout(function(){t.send("status")},2e3)}}