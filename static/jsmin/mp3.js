const namests=document.getElementById("namesh_3");namests.addEventListener("click",()=>{filenames=document.getElementById("value-f").value,namests.innerText="filename Changed",document.getElementById("dl_links").download=filenames});const invs=document.getElementById("value-f");invs.addEventListener("click",()=>{namests.innerText="Change Name"}),prbr=document.getElementById("dds_pgbr");const el=document.getElementById("div_");document.body.appendChild(el);const evtSource=new EventSource(`/stream/f/cache?u=${encodeURIComponent(window.dlurl)}`);evtSource.addEventListener("message",({data:e})=>{if(e.includes("/send-cache")){const n=document.getElementById("download_link");n.innerText="Click Here To Download the file",n.style.display="block",document.getElementById("dl_links").href=e,evtSource.close()}else e.includes("ffmpeg")?(el.innerHTML="Converting",prbr.style.display="block",prbr.style.width="100%",document.getElementById("ffmpeg-alert").innerHTML="Converting the video"):e.includes("Converting")?document.getElementById("ffmpeg-alert").innerHTML=e:(el.innerHTML=`${e}% Completed`,prbr.style.display="block",prbr.style.width=`${e}%`)},!1),evtSource.onerror=(()=>{evtSource.close(),alert("Downloading Failed")});